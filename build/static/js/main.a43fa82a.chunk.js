(this.webpackJsonpfirst_app=this.webpackJsonpfirst_app||[]).push([[0],{126:function(e,t,c){},127:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(19),a=c.n(r),s=c(17),i=c.n(s),o=c(25),j=c.n(o),d=c(29),u=c(16),b=c(8),l=(c(124),c(5)),p=function(e){var t=e.id,c=e.go,n=e.fetchedUser;return Object(l.jsxs)(b.i,{id:t,children:[Object(l.jsx)(b.j,{children:"Example"}),n&&Object(l.jsx)(b.g,{header:Object(l.jsx)(b.h,{mode:"secondary",children:"GoGo miniApp"}),children:Object(l.jsx)(b.e,{before:n.photo_200?Object(l.jsx)(b.c,{src:n.photo_200}):null,description:n.city&&n.city.title?n.city.title:"",children:"".concat(n.first_name," ").concat(n.last_name)})}),Object(l.jsx)(b.g,{header:Object(l.jsx)(b.h,{mode:"secondary",children:"App Example"}),children:Object(l.jsx)(b.f,{children:Object(l.jsx)(b.d,{stretched:!0,size:"l",mode:"secondary",onClick:c,"data-to":"mapbox",children:"Show me mapbox, horny"})})})]})},h=c.p+"static/media/persik.ae9f0072.png",O=(c(126),function(e){return Object(l.jsxs)(b.i,{id:e.id,children:[Object(l.jsx)(b.j,{left:Object(l.jsx)(b.k,{onClick:e.go,"data-to":"home"}),children:"Persik"}),Object(l.jsx)("img",{className:"Persik",src:h,alt:"Persik The Cat"})]})}),x=c(21),m=c.n(x);m.a.accessToken="pk.eyJ1IjoidGVwc2xvcmUiLCJhIjoiY2t2M3B5YzhuNGE4bTJvczcxcHl0OGduZyJ9.Wy0faVduOFtH1QVImTdDVQ";var f=function(e){var t=Object(n.useRef)(null),c=Object(n.useRef)(null),r=Object(n.useState)(60.68743133544922),a=Object(u.a)(r,2),s=a[0],i=a[1],o=Object(n.useState)(56.83428192138672),j=Object(u.a)(o,2),d=j[0],p=j[1],h=Object(n.useState)(17),O=Object(u.a)(h,2),x=O[0],f=O[1];return Object(n.useEffect)((function(){c.current||(c.current=new m.a.Map({container:t.current,style:"https://raw.githubusercontent.com/TepSLore/mapboxStyle/main/mapbox-styles.json",center:[s,d],zoom:x}),c.current.addControl(new m.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0,auto:!0})))})),Object(n.useEffect)((function(){c.current&&c.current.on("move",(function(){i(c.current.getCenter().lng.toFixed(4)),p(c.current.getCenter().lat.toFixed(4)),f(c.current.getZoom().toFixed(2))}))})),Object(l.jsxs)(b.i,{children:[Object(l.jsx)(b.j,{id:e.id,left:Object(l.jsx)(b.k,{onClick:e.go,"data-to":"home"}),children:"MapBox"}),Object(l.jsx)("div",{children:Object(l.jsx)("div",{ref:t,className:"map-container"})})]})},g=function(){var e=Object(n.useState)("home"),t=Object(u.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(null),s=Object(u.a)(a,2),o=s[0],h=s[1],x=Object(n.useState)(Object(l.jsx)(b.l,{size:"large"})),m=Object(u.a)(x,2),g=(m[0],m[1]);Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.send("VKWebAppGetUserInfo");case 2:t=e.sent,h(t),g(null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.a.subscribe((function(e){var t=e.detail,c=t.type,n=t.data;if("VKWebAppUpdateConfig"===c){var r=document.createAttribute("scheme");r.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(r)}})),function(){e.apply(this,arguments)}()}),[]);var y=function(e){r(e.currentTarget.dataset.to)};return Object(l.jsx)(b.a,{children:Object(l.jsx)(b.b,{children:Object(l.jsxs)(b.m,{activePanel:c,children:[Object(l.jsx)(p,{id:"home",fetchedUser:o,go:y}),Object(l.jsx)(O,{id:"persik",go:y}),Object(l.jsx)(f,{id:"mapbox",go:y})]})})})};i.a.send("VKWebAppInit"),a.a.render(Object(l.jsx)(g,{}),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.a43fa82a.chunk.js.map